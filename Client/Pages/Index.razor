@page "/"

<ListadoPeliculas pelis="pelis">
@*     <Cargando>
        Cargando datos relacionados con las pelis
    </Cargando>
    <NoHayPelis>
        No HAY!
    </NoHayPelis> *@
</ListadoPeliculas>

@* <BindAfterDemo /> *@

@* <div>
    <h2>Crear película</h2>
    <EjemploTextbox placeholder="Nombre de película" />

</div> *@

<button @onclick="AgregarPeli">Agregar peli</button>

@code {
    public List<Pelicula> pelis { get; set; } = null!;

    protected override void OnInitialized()
    {
        Console.WriteLine("OnInitialized");
        pelis = ObtenerPeliculas();
    }

    List<Pelicula> ObtenerPeliculas()
    {
        return new List<Pelicula>(){
new Pelicula
{
Titulo = "<b>Wakanda Forever</b>",
FechaLanzamiento = new DateTime(2023, 9, 11)
},
new Pelicula
{
Titulo = "<i>Moana</i>",
FechaLanzamiento = new DateTime(2016, 11, 13)
},
new Pelicula
{
Titulo = "Inception",
FechaLanzamiento = new DateTime(2010, 7, 16)
}
};
    }

    private void AgregarPeli()
    {
        pelis.Add(new Pelicula { Titulo = "Nuevo", FechaLanzamiento = DateTime.Today });
    }
}
